{"ast":null,"code":"import _regeneratorRuntime from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n//@ts-nocheck;\nimport { Message } from \"../../../framework/src/Message\";\nimport { BlockComponent } from \"../../../framework/src/BlockComponent\";\nimport MessageEnum, { getName } from \"../../../framework/src/Messages/MessageEnum\";\nimport { runEngine } from \"../../../framework/src/RunEngine\"; // @ts-ignore\n\nimport { uuid } from 'uuidv4';\nexport var configJSON = require(\"./config\");\n;\n\nvar EmailAccountRegistrationController = /*#__PURE__*/function (_BlockComponent) {\n  _inherits(EmailAccountRegistrationController, _BlockComponent);\n\n  var _super = _createSuper(EmailAccountRegistrationController);\n\n  // Customizable Area Start\n  // Customizable Area End\n  function EmailAccountRegistrationController(props) {\n    var _this;\n\n    _classCallCheck(this, EmailAccountRegistrationController);\n\n    _this = _super.call(this, props);\n    _this.apiEmailLoginCallId = \"\";\n    _this.validationApiCallId = \"\";\n    _this.emailReg = void 0;\n    _this.labelTitle = \"\";\n    _this.verfiySocialLoginApiCallId = void 0;\n    _this.registartionEmailCallId = void 0;\n    _this.guestRegisterApiCallId = void 0;\n    _this.sendOTPAPICallId = void 0;\n    _this.helpCenterCallId = void 0;\n\n    _this.showPassword = function (e) {\n      e.preventDefault();\n\n      _this.setState(function (prevState) {\n        return {\n          showPass: !prevState.showPass\n        };\n      });\n    };\n\n    _this.signupUser = function (values) {\n      _this.setState({\n        showSpinner: true\n      });\n\n      var data = {\n        data: {\n          type: \"email_account\",\n          attributes: {\n            email: values.Email,\n            full_name: values.FullName,\n            phone_number: values.fullPhoneNumber\n          },\n          process: \"register\"\n        }\n      };\n      localStorage.setItem(\"signUpUser\", JSON.stringify(values));\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      _this.sendOTPAPICallId = requestMessage.messageId;\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.sendEmailOTPAPIEndPoint);\n      var headers = {\n        'Content-Type': 'application/json'\n      };\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), JSON.stringify(headers));\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(data));\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiMethodTypeAddDetail);\n      return runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    _this.registartionEmail = function (values) {\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      _this.registartionEmailCallId = requestMessage.messageId;\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.registrationThorughEmailAPIEndPoint);\n      var headers = {\n        'Content-Type': 'application/json'\n      };\n      var requestBody = {\n        \"data\": {\n          \"type\": \"email_account\",\n          \"process\": \"register\",\n          \"attributes\": {\n            \"email\": values.Email\n          }\n        }\n      }; //setting userDeatils to state\n\n      _this.setState(_objectSpread(_objectSpread({}, _this.state), {}, {\n        userEmail: values.Email,\n        userPassword: values.password,\n        userName: values.FullName\n      }));\n\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), JSON.stringify(headers));\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(requestBody));\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiMethodTypeAddDetail);\n      runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    _this.verifyEmailBeforeRegistartion = function (resultData, socialMediaName) {\n      //@ts-ignore\n      var guestuserID = localStorage.getItem('guestUUID');\n      var requestBody;\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      _this.verfiySocialLoginApiCallId = requestMessage.messageId;\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.socialRegistartionAPIEndPoint);\n      var headers = {\n        'Content-Type': 'application/json'\n      };\n\n      if (guestuserID) {\n        requestBody = {\n          \"uuid\": guestuserID,\n          \"data\": {\n            \"type\": \"social_account\",\n            \"attributes\": {\n              \"provider\": socialMediaName,\n              \"access_token\": resultData.credential && resultData.credential.accessToken\n            }\n          }\n        };\n      } else {\n        requestBody = {\n          \"data\": {\n            \"type\": \"social_account\",\n            \"attributes\": {\n              \"provider\": socialMediaName,\n              \"access_token\": resultData.credential && resultData.credential.accessToken\n            }\n          }\n        };\n      }\n\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), headers);\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(requestBody));\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiMethodTypeAddDetail);\n      runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    _this.guestRegister = function () {\n      _this.setState(_objectSpread(_objectSpread({}, _this.state), {}, {\n        loading: true\n      }));\n\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      _this.guestRegisterApiCallId = requestMessage.messageId;\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.guestRegistrationAPIEndPoint);\n      var headers = {\n        'Content-Type': 'application/json'\n      };\n      var generateUUId = uuid();\n      localStorage.setItem('guestUUID', generateUUId);\n      var requestBody = {\n        \"data\": {\n          \"type\": \"guest_account\",\n          \"attributes\": {\n            \"uuid\": generateUUId\n          }\n        }\n      };\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), headers);\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(requestBody));\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiMethodTypeAddDetail);\n      runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    _this.getHelpCenter = function () {\n      debugger;\n      console.log(\"YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYQQQQQQ\");\n      var token = localStorage.getItem(\"token\");\n      var headers = {\n        token: token,\n        \"Content-Type\": \"application/json\"\n      };\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      _this.helpCenterCallId = requestMessage.messageId;\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.getHelpCenterAPIEndPoint);\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), headers);\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.validationApiMethodType); // Sending Request to call API.\n\n      runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    _this.receive = _this.receive.bind(_assertThisInitialized(_this));\n    _this.signupUser = _this.signupUser.bind(_assertThisInitialized(_this)); // Customizable Area Start\n\n    _this.subScribedMessages = [getName(MessageEnum.RestAPIResponceMessage), getName(MessageEnum.AccoutLoginSuccess), getName(MessageEnum.AlertMessage), getName(MessageEnum.CountryCodeMessage), getName(MessageEnum.ReciveUserCredentials)];\n    _this.state = {\n      showSpinner: false,\n      loginError: \"\",\n      showPass: false,\n      emailErr: \"\"\n    };\n    _this.emailReg = new RegExp(\"\");\n    _this.labelTitle = configJSON.labelTitle; // Customizable Area End\n\n    _this.receive = _this.receive.bind(_assertThisInitialized(_this));\n    runEngine.attachBuildingBlock(_assertThisInitialized(_this), _this.subScribedMessages);\n    return _this;\n  }\n\n  _createClass(EmailAccountRegistrationController, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _get(_getPrototypeOf(EmailAccountRegistrationController.prototype), \"componentDidMount\", this).call(this);\n\n                this.getHelpCenter();\n                this.send(new Message(getName(MessageEnum.RequestUserCredentials))); // Customizable Area Start\n                // Customizable Area End\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"receive\",\n    value: function () {\n      var _receive = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(from, message) {\n        var _this2 = this;\n\n        var apiRequestCallId, responseJson, errorResponse, _this$state$socialMed, user, credential, additionalUserInfo, dat, GuestUserId, _this$props$history, _data$attributes, _responseJson$data, data, name, _responseJson$errors$, _responseJson$errors$2;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                runEngine.debugLog('Message Received', message);\n\n                if (!(message.id === getName(MessageEnum.RestAPIResponceMessage))) {\n                  _context2.next = 31;\n                  break;\n                }\n\n                apiRequestCallId = message.getData(getName(MessageEnum.RestAPIResponceDataMessage));\n                responseJson = message.getData(getName(MessageEnum.RestAPIResponceSuccessMessage));\n                errorResponse = message.getData(getName(MessageEnum.RestAPIResponceErrorMessage));\n\n                if (!(apiRequestCallId === this.registartionEmailCallId)) {\n                  _context2.next = 10;\n                  break;\n                }\n\n                if (responseJson && responseJson.data && responseJson.meta) {\n                  this.setState(_objectSpread({}, this.state));\n                }\n\n                if (responseJson && responseJson.errors && responseJson.errors.length > 0) {\n                  this.setState(_objectSpread(_objectSpread({}, this.state), {}, {\n                    showAlert: true,\n                    messageType: 'danger',\n                    message: responseJson.errors[0].account\n                  }));\n                }\n\n                _context2.next = 29;\n                break;\n\n              case 10:\n                if (!(apiRequestCallId === this.verfiySocialLoginApiCallId)) {\n                  _context2.next = 28;\n                  break;\n                }\n\n                if (!responseJson) {\n                  _context2.next = 26;\n                  break;\n                }\n\n                if (!this.state.socialMediaResult) {\n                  _context2.next = 26;\n                  break;\n                }\n\n                _this$state$socialMed = this.state.socialMediaResult, user = _this$state$socialMed.user, credential = _this$state$socialMed.credential, additionalUserInfo = _this$state$socialMed.additionalUserInfo;\n                dat = {\n                  'email': user.email,\n                  'name': user.displayName\n                };\n                console.log(user.photoURL, \"user.photoURL\", JSON.stringify(dat), \"this.state\", this.state.socialMediaResult);\n                GuestUserId = localStorage.getItem('guestUUID');\n\n                if (GuestUserId) {\n                  setTimeout(function () {\n                    _this2.props.history.push('/cart');\n                  }, 1000);\n                } else {\n                  setTimeout(function () {\n                    _this2.props.history.push('/home-page');\n                  }, 1000);\n                }\n\n                _context2.next = 20;\n                return localStorage.setItem('user', JSON.stringify(responseJson.data));\n\n              case 20:\n                _context2.next = 22;\n                return localStorage.setItem('token', responseJson.meta.token);\n\n              case 22:\n                _context2.next = 24;\n                return localStorage.setItem('profileImage', user.photoURL);\n\n              case 24:\n                _context2.next = 26;\n                return localStorage.setItem('userData', JSON.stringify(dat));\n\n              case 26:\n                _context2.next = 29;\n                break;\n\n              case 28:\n                if (apiRequestCallId === this.guestRegisterApiCallId) {\n                  if (responseJson && responseJson.data && responseJson.meta) {\n                    this.setState(_objectSpread(_objectSpread({}, this.state), {}, {\n                      loading: false\n                    }));\n                    localStorage.setItem('guestUserData', JSON.stringify(responseJson.data));\n                    localStorage.setItem('token', responseJson.meta.token); //@ts-ignore\n\n                    window.notify([{\n                      type: 'success',\n                      message: 'Welcome to Our Store!'\n                    }]);\n                    (_this$props$history = this.props.history) === null || _this$props$history === void 0 ? void 0 : _this$props$history.push('/home-page');\n                  }\n                } else if (apiRequestCallId === this.sendOTPAPICallId) {\n                  if (responseJson && responseJson.data && responseJson.meta) {\n                    this.setState({\n                      showSpinner: false\n                    });\n                    data = responseJson.data;\n                    name = data === null || data === void 0 ? void 0 : (_data$attributes = data.attributes) === null || _data$attributes === void 0 ? void 0 : _data$attributes.full_name;\n                    localStorage.setItem('token', responseJson.meta.token);\n                    localStorage.setItem('userFullName', name);\n                    this.props.history.push({\n                      pathname: '/otpconfirm',\n                      state: {\n                        data: (_responseJson$data = responseJson.data) === null || _responseJson$data === void 0 ? void 0 : _responseJson$data.user\n                      }\n                    }); // @ts-ignore\n\n                    window.notify([{\n                      message: \"OTP has beed sent to you\",\n                      type: \"success\"\n                    }]);\n                  }\n\n                  if (responseJson && responseJson.errors && responseJson.errors.length > 0) {\n                    this.setState({\n                      showSpinner: false\n                    }); //@ts-ignore\n\n                    window.notify([{\n                      message: ((_responseJson$errors$ = responseJson.errors[0]) === null || _responseJson$errors$ === void 0 ? void 0 : _responseJson$errors$.phone_number) || ((_responseJson$errors$2 = responseJson.errors[0]) === null || _responseJson$errors$2 === void 0 ? void 0 : _responseJson$errors$2.account) || 'something went wrong!',\n                      type: 'danger'\n                    }]);\n                  }\n                } else if (apiRequestCallId === this.helpCenterCallId) {\n                  console.log(\"YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYQQQQQQ\");\n                  debugger;\n\n                  if (responseJson && responseJson.data && responseJson.data.length > 0) {\n                    this.setState({\n                      helpCenterData: responseJson.data\n                    });\n                  }\n                }\n\n              case 29:\n                _context2.next = 31;\n                break;\n\n              case 31:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function receive(_x, _x2) {\n        return _receive.apply(this, arguments);\n      }\n\n      return receive;\n    }() //Registeration through Email\n\n  }]);\n\n  return EmailAccountRegistrationController;\n}(BlockComponent);\n\nexport { EmailAccountRegistrationController as default };","map":{"version":3,"sources":["/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/packages/blocks/email-account-registration/src/EmailRegistartionController.web.tsx"],"names":["Message","BlockComponent","MessageEnum","getName","runEngine","uuid","configJSON","require","EmailAccountRegistrationController","props","apiEmailLoginCallId","validationApiCallId","emailReg","labelTitle","verfiySocialLoginApiCallId","registartionEmailCallId","guestRegisterApiCallId","sendOTPAPICallId","helpCenterCallId","showPassword","e","preventDefault","setState","prevState","showPass","signupUser","values","showSpinner","data","type","attributes","email","Email","full_name","FullName","phone_number","fullPhoneNumber","process","localStorage","setItem","JSON","stringify","requestMessage","RestAPIRequestMessage","messageId","addData","RestAPIResponceEndPointMessage","sendEmailOTPAPIEndPoint","headers","RestAPIRequestHeaderMessage","RestAPIRequestBodyMessage","RestAPIRequestMethodMessage","apiMethodTypeAddDetail","sendMessage","id","registartionEmail","registrationThorughEmailAPIEndPoint","requestBody","state","userEmail","userPassword","password","userName","verifyEmailBeforeRegistartion","resultData","socialMediaName","guestuserID","getItem","socialRegistartionAPIEndPoint","credential","accessToken","guestRegister","loading","guestRegistrationAPIEndPoint","generateUUId","getHelpCenter","console","log","token","getHelpCenterAPIEndPoint","validationApiMethodType","receive","bind","subScribedMessages","RestAPIResponceMessage","AccoutLoginSuccess","AlertMessage","CountryCodeMessage","ReciveUserCredentials","loginError","emailErr","RegExp","attachBuildingBlock","send","RequestUserCredentials","from","message","debugLog","apiRequestCallId","getData","RestAPIResponceDataMessage","responseJson","RestAPIResponceSuccessMessage","errorResponse","RestAPIResponceErrorMessage","meta","errors","length","showAlert","messageType","account","socialMediaResult","user","additionalUserInfo","dat","displayName","photoURL","GuestUserId","setTimeout","history","push","window","notify","name","pathname","helpCenterData"],"mappings":"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","sourcesContent":["//@ts-nocheck;\nimport { IBlock } from \"../../../framework/src/IBlock\";\nimport { Message } from \"../../../framework/src/Message\";\nimport { BlockComponent } from \"../../../framework/src/BlockComponent\";\nimport MessageEnum, {\n    getName\n} from \"../../../framework/src/Messages/MessageEnum\";\nimport { runEngine } from \"../../../framework/src/RunEngine\";\n// @ts-ignore\nimport map from \"lodash/map\";\nimport axios from \"axios\";\nimport { uuid } from 'uuidv4';\n\nexport const configJSON = require(\"./config\");\n\nexport interface Props {\n    navigation: any;\n    id: string;\n    history: any\n    isPopup: boolean\n    // Customizable Area Start\n    // Customizable Area End\n};\n\ninterface S {\n    // Customizable Area Start\n    showSpinner: boolean;\n    loginError: string;\n    showPass: boolean;\n    emailErr: string;\n\n    //success Email Response Data\n    userToken?: string;\n    userEmail?: string;\n    userName?: string;\n    userPassword?: string;\n\n    //social media result\n    socialMediaResult?: any;\n\n    // showing alerts\n    showAlert?: boolean;\n    messageType?: any;\n    message?: any;\n\n    loading?: boolean;\n\n    helpCenterData?: any;\n    // Customizable Area End\n}\n\ninterface SS {\n    // Customizable Area Start\n    id: any;\n    // Customizable Area End\n}\n\nexport default class EmailAccountRegistrationController extends BlockComponent<Props, S, SS> {\n\n    // Customizable Area Start\n    apiEmailLoginCallId: string = \"\";\n    validationApiCallId: string = \"\";\n    emailReg: RegExp;\n    labelTitle: string = \"\";\n    verfiySocialLoginApiCallId: string;\n    registartionEmailCallId: string;\n    guestRegisterApiCallId: string;\n    sendOTPAPICallId: string;\n    helpCenterCallId: string;\n    // Customizable Area End\n\n    constructor(props: Props) {\n        super(props);\n        this.receive = this.receive.bind(this);\n        this.signupUser = this.signupUser.bind(this);\n\n        // Customizable Area Start\n        this.subScribedMessages = [\n            getName(MessageEnum.RestAPIResponceMessage),\n            getName(MessageEnum.AccoutLoginSuccess),\n            getName(MessageEnum.AlertMessage),\n            getName(MessageEnum.CountryCodeMessage),\n            getName(MessageEnum.ReciveUserCredentials)\n        ];\n        this.state = {\n            showSpinner: false,\n            loginError: \"\",\n            showPass: false,\n            emailErr: \"\"\n        };\n\n        this.emailReg = new RegExp(\"\");\n        this.labelTitle = configJSON.labelTitle;\n        // Customizable Area End\n\n        this.receive = this.receive.bind(this);\n        runEngine.attachBuildingBlock(this as IBlock, this.subScribedMessages);\n    };\n\n    async componentDidMount() {\n        super.componentDidMount();\n        this.getHelpCenter();\n        this.send(new Message(getName(MessageEnum.RequestUserCredentials)));\n        // Customizable Area Start\n        // Customizable Area End\n\n    }\n\n    showPassword = (e: any) => {\n        e.preventDefault();\n        this.setState(prevState => ({\n            showPass: !prevState.showPass\n        }))\n    };\n\n    signupUser = (values: any) => {\n        this.setState({ showSpinner: true });\n        const data = {\n            data: {\n                type: \"email_account\",\n                attributes: {\n                    email: values.Email,\n                    full_name: values.FullName,\n                    phone_number: values.fullPhoneNumber\n                },\n                process: \"register\"\n            }\n        }\n        localStorage.setItem(\"signUpUser\", JSON.stringify(values));\n\n        const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n        this.sendOTPAPICallId = requestMessage.messageId;\n        requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.sendEmailOTPAPIEndPoint);\n\n        const headers = {\n            'Content-Type': 'application/json',\n        };\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), JSON.stringify(headers));\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(data));\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiMethodTypeAddDetail);\n        return runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    async receive(from: String, message: Message) {\n        runEngine.debugLog('Message Received', message);\n        if (message.id === getName(MessageEnum.RestAPIResponceMessage)) {\n            let apiRequestCallId = message.getData(getName(MessageEnum.RestAPIResponceDataMessage));\n            var responseJson = message.getData(getName(MessageEnum.RestAPIResponceSuccessMessage));\n            var errorResponse = message.getData(getName(MessageEnum.RestAPIResponceErrorMessage));\n            if (apiRequestCallId === this.registartionEmailCallId) {\n                if (responseJson && responseJson.data && responseJson.meta) {\n                    this.setState({\n                        ...this.state,\n                    });\n                }\n                if (responseJson && responseJson.errors && responseJson.errors.length > 0) {\n                    this.setState({\n                        ...this.state,\n                        showAlert: true,\n                        messageType: 'danger',\n                        message: responseJson.errors[0].account\n                    })\n                }\n            }\n            else if (apiRequestCallId === this.verfiySocialLoginApiCallId) {\n                if (responseJson) {\n                    if (this.state.socialMediaResult) {\n                        const { user, credential, additionalUserInfo } = this.state.socialMediaResult;\n                        let dat = {\n                            'email': user.email,\n                            'name': user.displayName\n                        }\n                        console.log(user.photoURL, \"user.photoURL\", JSON.stringify(dat), \"this.state\", this.state.socialMediaResult);\n                        const GuestUserId = localStorage.getItem('guestUUID');\n                        if (GuestUserId) {\n                            setTimeout(() => {\n                                this.props.history.push('/cart');\n                            }, 1000);\n                        } else {\n                            setTimeout(() => {\n                                this.props.history.push('/home-page');\n                            }, 1000);\n                        }\n                        await localStorage.setItem('user', JSON.stringify(responseJson.data));\n                        await localStorage.setItem('token', responseJson.meta.token);\n                        await localStorage.setItem('profileImage', user.photoURL);\n                        await localStorage.setItem('userData', JSON.stringify(dat));\n                    }\n                }\n            }\n            else if (apiRequestCallId === this.guestRegisterApiCallId) {\n                if (responseJson && responseJson.data && responseJson.meta) {\n                    this.setState({\n                        ...this.state,\n                        loading: false\n                    });\n                    localStorage.setItem('guestUserData', JSON.stringify(responseJson.data));\n                    localStorage.setItem('token', responseJson.meta.token);\n                    //@ts-ignore\n                    window.notify([{ type: 'success', message: 'Welcome to Our Store!' }]);\n                    this.props.history?.push('/home-page');\n                }\n            }\n            else if (apiRequestCallId === this.sendOTPAPICallId) {\n                if (responseJson && responseJson.data && responseJson.meta) {\n                    this.setState({ showSpinner: false });\n                    const { data } = responseJson;\n                    const name = data?.attributes?.full_name;\n                    localStorage.setItem('token', responseJson.meta.token);\n                    localStorage.setItem('userFullName', name);\n                    this.props.history.push({\n                        pathname: '/otpconfirm',\n                        state: {\n                            data: responseJson.data?.user,\n                        },\n                    });\n                    // @ts-ignore\n                    window.notify([{ message: \"OTP has beed sent to you\", type: \"success\" }]);\n                }\n                if (responseJson && responseJson.errors && responseJson.errors.length > 0) {\n                    this.setState({ showSpinner: false });\n                    //@ts-ignore\n                    window.notify([{ message: responseJson.errors[0]?.phone_number || responseJson.errors[0]?.account || 'something went wrong!', type: 'danger' }]);\n                }\n            }\n            else if (apiRequestCallId === this.helpCenterCallId) {\n                console.log(\"YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYQQQQQQ\");\n                debugger;\n                if (responseJson && responseJson.data && responseJson.data.length > 0) {\n                    this.setState({\n                        helpCenterData: responseJson.data\n                    })\n                }\n            }\n        }\n        else {\n\n        }\n    }\n\n    //Registeration through Email\n    registartionEmail = (values: any) => {\n        const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n\n        this.registartionEmailCallId = requestMessage.messageId;\n        requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.registrationThorughEmailAPIEndPoint);\n\n        const headers = {\n            'Content-Type': 'application/json',\n        };\n        const requestBody = {\n            \"data\": {\n                \"type\": \"email_account\",\n                \"process\": \"register\",\n                \"attributes\": {\n                    \"email\": values.Email,\n                },\n            }\n        };\n\n        //setting userDeatils to state\n        this.setState({\n            ...this.state,\n            userEmail: values.Email,\n            userPassword: values.password,\n            userName: values.FullName\n        });\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), JSON.stringify(headers));\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(requestBody));\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiMethodTypeAddDetail);\n\n\n        runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    //registartion through social Login\n    verifyEmailBeforeRegistartion = (resultData: any, socialMediaName: string) => {\n        //@ts-ignore\n        const guestuserID = localStorage.getItem('guestUUID');\n        let requestBody;\n\n        const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n\n        this.verfiySocialLoginApiCallId = requestMessage.messageId;\n        requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.socialRegistartionAPIEndPoint);\n        const headers = {\n            'Content-Type': 'application/json'\n        };\n        if (guestuserID) {\n            requestBody = {\n                \"uuid\": guestuserID,\n                \"data\": {\n                    \"type\": \"social_account\",\n                    \"attributes\": {\n                        \"provider\": socialMediaName,\n                        \"access_token\": resultData.credential && resultData.credential.accessToken,\n                    }\n                }\n            };\n        } else {\n            requestBody = {\n                \"data\": {\n                    \"type\": \"social_account\",\n                    \"attributes\": {\n                        \"provider\": socialMediaName,\n                        \"access_token\": resultData.credential && resultData.credential.accessToken\n                    }\n                }\n            };\n        }\n\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), headers);\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(requestBody));\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiMethodTypeAddDetail);\n\n        runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    //guest user Registration\n    guestRegister = () => {\n        this.setState({\n            ...this.state,\n            loading: true\n        });\n\n        const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n\n        this.guestRegisterApiCallId = requestMessage.messageId;\n        requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.guestRegistrationAPIEndPoint);\n        const headers = {\n            'Content-Type': 'application/json'\n        };\n        const generateUUId = uuid();\n        localStorage.setItem('guestUUID', generateUUId);\n        const requestBody = {\n            \"data\": {\n                \"type\": \"guest_account\",\n                \"attributes\": {\n                    \"uuid\": generateUUId\n                }\n            }\n        };\n\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), headers);\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(requestBody));\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiMethodTypeAddDetail);\n\n        runEngine.sendMessage(requestMessage.id, requestMessage);\n    }\n\n    //get Helpecnetr data\n    getHelpCenter = () => {\n        debugger;\n        console.log(\"YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYQQQQQQ\");\n        const token = localStorage.getItem(\"token\");\n        const headers = {\n            token,\n            \"Content-Type\": \"application/json\"\n        }\n        const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n        this.helpCenterCallId = requestMessage.messageId;\n\n        requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.getHelpCenterAPIEndPoint);\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), headers);\n        requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.validationApiMethodType);\n        // Sending Request to call API.\n        runEngine.sendMessage(requestMessage.id, requestMessage);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}