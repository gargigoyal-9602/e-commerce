{"ast":null,"code":"import _slicedToArray from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/packages/components/src/StripePayment.tsx\";\n\nimport React, { useMemo, useState } from 'react'; // @ts-ignore\n\nimport Cards from 'react-credit-cards';\nimport { useStripe, useElements, CardNumberElement, CardCvcElement, CardExpiryElement } from '@stripe/react-stripe-js';\nimport { Row, Col } from 'reactstrap';\nimport \"./css/stripe-payment.css\";\n\nvar useOptions = function useOptions() {\n  // @ts-ignore\n  var options = useMemo(function () {\n    return {\n      style: {\n        base: {\n          fontSize: 16,\n          color: '#424770',\n          letterSpacing: '0.025em',\n          fontFamily: 'Source Code Pro, monospace',\n          '::placeholder': {\n            color: '#aab7c4'\n          }\n        },\n        invalid: {\n          color: '#9e2146'\n        }\n      }\n    };\n  });\n  return options;\n};\n\nvar StripPayment = function StripPayment(props) {\n  var handleSubmit = props.handleSubmit;\n\n  var _useState = useState(\"11/22\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      expiry = _useState2[0],\n      setExpiry = _useState2[1];\n\n  var _useState3 = useState(\"123\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cvc = _useState4[0],\n      setCvc = _useState4[1];\n\n  var _useState5 = useState(\"1234123412341234\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      number = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      focus = _useState8[0],\n      setFocus = _useState8[1];\n\n  var stripe = useStripe();\n  var elements = useElements();\n  var options = useOptions(); // const createStripePaymentSuccess = async (res: any, token: any) => {\n  //   try {\n  //     // @ts-ignore;\n  //     const result = await stripe.confirmPaymentIntent(res.client_secret, {payment_method: token})\n  //     if(result?.paymentIntent?.status === 'succeeded') {\n  //       // this.setState({ isFetching: true });\n  //       let stripeData = {\n  //         data: {\n  //           stripe_payment_id: token,\n  //           payment_intent_id: result?.paymentIntent?.id,\n  //         }\n  //       };\n  //       confirmPaymentSuccess(stripeData);\n  //     }\n  //   } catch (e) {\n  //     console.log('@@@ Stripe Confirm Payment Error ============', e);\n  //     // this.releaseBlockQuantity();\n  // }\n  // }\n  // const confirmPaymentSuccess = (data: any) => {\n  //   const token = localStorage.getItem(\"token\");\n  //   const headers = {\n  //     'Content-Type': 'application/json',\n  //     token\n  //   }\n  //   axios.put(baseUrl + confirmPaymentEndPoint, data, { headers })\n  //     .then(res => {\n  //       if (res.data.data) {\n  //         // @ts-ignore\n  //         window.notify([{type: \"success\", message: res?.data?.data?.message || \"Payment successfull.\"}])\n  //       }\n  //     })\n  //     .catch(error => {\n  //       console.error(error);\n  //       // @ts-ignore\n  //       window.notify([{type: \"danger\", message: error?.message || \"Something went wrong\"}])\n  //     })\n  // }\n  // const handleSubmit = async (event: any) => {\n  //   event.preventDefault();\n  //   const token = localStorage.getItem(\"token\");\n  //   if (!stripe || !elements) {\n  //     // Stripe.js has not loaded yet. Make sure to disable\n  //     // form submission until Stripe.js has loaded.\n  //     return;\n  //   }\n  //   // @ts-ignore\n  //   checkZipcodeAvailability();\n  //   const user = JSON.parse(localStorage.getItem(\"user\"))\n  //   const { paymentMethod } = await stripe.createPaymentMethod({\n  //     type: 'card',\n  //     // @ts-ignore\n  //     card: elements.getElement(CardNumberElement),\n  //   });\n  //   const requestBody = {\n  //     data: {\n  //       attributes: {\n  //         amount: parseFloat(cartDetails?.total),\n  //         account_id: user?.id,\n  //         order_id: cartDetails?.id\n  //       },\n  //       payment_token: paymentMethod?.id\n  //     }\n  //   };\n  //   const headers = {\n  //     'Content-Type': 'application/json',\n  //     token\n  //   }\n  //   axios.post(`${baseUrl}${CreatePaymentEndPoint}`, requestBody, { headers })\n  //     .then(res => {\n  //       // Once the payment API integrate we're add ahead functionality here.\n  //       debugger\n  //       if (res?.status === 200) {\n  //         // @ts-ignore\n  //         createStripePaymentSuccess(res?.data?.data, paymentMethod.id);\n  //         // @ts-ignore\n  //         window.notify([{type: \"success\", message: res?.data?.message || \"Payment initiated successfull.\"}])\n  //       }\n  //     })\n  //     .catch(error => {\n  //       // @ts-ignore\n  //       window.notify([{type: \"danger\", message: error?.message || \"Something went wrong\"}])\n  //     })\n  //     .finally(() => {\n  //   })\n  // };\n  // @ts-ignore\n\n  var userData = JSON.parse(localStorage.getItem(\"userData\"));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xl: \"4\",\n    lg: \"4\",\n    md: \"12\",\n    sm: \"12\",\n    xs: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    cvc: cvc,\n    expiry: expiry,\n    focused: focus,\n    name: (userData === null || userData === void 0 ? void 0 : userData.name) ? userData.name : \"User Name\",\n    number: number,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    xl: \"8\",\n    lg: \"8\",\n    md: \"12\",\n    sm: \"12\",\n    xs: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"stripe-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: function onSubmit(event) {\n      return handleSubmit(event, stripe, elements);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 19\n    }\n  }, \"Card Details\"))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"stripe-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 19\n    }\n  }, \"Card number\")), /*#__PURE__*/React.createElement(Col, {\n    md: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardNumberElement // @ts-ignore\n  , {\n    options: options,\n    onReady: function onReady() {\n      console.log('CardNumberElement [ready]');\n    },\n    onChange: function onChange(event) {\n      var _event$error;\n\n      console.log('CardNumberElement [change]', event, //@ts-ignore\n      window.notify([{\n        type: 'danger',\n        message: event === null || event === void 0 ? void 0 : (_event$error = event.error) === null || _event$error === void 0 ? void 0 : _event$error.message\n      }]));\n    },\n    onBlur: function onBlur() {\n      console.log('CardNumberElement [blur]');\n    },\n    onFocus: function onFocus() {\n      console.log('CardNumberElement [focus]');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"stripe-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  }, \"Expiration date\")), /*#__PURE__*/React.createElement(Col, {\n    md: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardExpiryElement // @ts-ignore\n  , {\n    options: options,\n    onReady: function onReady() {\n      console.log('CardNumberElement [ready]');\n    },\n    onChange: function onChange(event) {\n      var _event$error2;\n\n      console.log('CardNumberElement [change]', event, //@ts-ignore\n      window.notify([{\n        type: 'danger',\n        message: event === null || event === void 0 ? void 0 : (_event$error2 = event.error) === null || _event$error2 === void 0 ? void 0 : _event$error2.message\n      }]));\n    },\n    onBlur: function onBlur() {\n      console.log('CardNumberElement [blur]');\n    },\n    onFocus: function onFocus() {\n      console.log('CardNumberElement [focus]');\n    },\n    className: \"card-expiration\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"stripe-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 19\n    }\n  }, \"CVC\")), /*#__PURE__*/React.createElement(Col, {\n    md: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardCvcElement // @ts-ignore\n  , {\n    options: options,\n    onReady: function onReady() {\n      console.log('CardNumberElement [ready]');\n    },\n    onChange: function onChange(event) {\n      var _event$error3;\n\n      console.log('CardNumberElement [change]', event, //@ts-ignore\n      window.notify([{\n        type: 'danger',\n        message: event === null || event === void 0 ? void 0 : (_event$error3 = event.error) === null || _event$error3 === void 0 ? void 0 : _event$error3.message\n      }]));\n    },\n    onBlur: function onBlur() {\n      console.log('CardNumberElement [blur]');\n    },\n    onFocus: function onFocus() {\n      console.log('CardNumberElement [focus]');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" stripe-btn text-right pr-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-lg mt-5\",\n    type: \"submit\",\n    disabled: !stripe,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }, \"Proceed to Pay\")))))))));\n};\n\nexport default StripPayment;","map":{"version":3,"sources":["/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/packages/components/src/StripePayment.tsx"],"names":["React","useMemo","useState","Cards","useStripe","useElements","CardNumberElement","CardCvcElement","CardExpiryElement","Row","Col","useOptions","options","style","base","fontSize","color","letterSpacing","fontFamily","invalid","StripPayment","props","handleSubmit","expiry","setExpiry","cvc","setCvc","number","setName","focus","setFocus","stripe","elements","userData","JSON","parse","localStorage","getItem","name","event","console","log","window","notify","type","message","error"],"mappings":"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","sourcesContent":["import React, { useMemo, useState } from 'react';\n// @ts-ignore\nimport Cards from 'react-credit-cards';\nimport axios from \"axios\";\n\nimport {\n  useStripe,\n  useElements,\n  CardNumberElement,\n  CardCvcElement,\n  CardExpiryElement,\n} from '@stripe/react-stripe-js';\nimport { Row, Col } from 'reactstrap';\nimport \"./css/stripe-payment.css\";\n\nconst useOptions = () => {\n  // @ts-ignore\n  const options = useMemo(() => ({\n    style: {\n      base: {\n        fontSize: 16,\n        color: '#424770',\n        letterSpacing: '0.025em',\n        fontFamily: 'Source Code Pro, monospace',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n  }));\n\n  return options;\n};\n\nconst StripPayment = (props: any) => {\n  const {\n    handleSubmit\n  } = props;\n\n  const [expiry, setExpiry] = useState(\"11/22\");\n  const [cvc, setCvc] = useState(\"123\");\n  const [number, setName] = useState(\"1234123412341234\");\n  const [focus, setFocus] = useState(\"\");\n\n  const stripe = useStripe();\n  const elements = useElements();\n  const options = useOptions();\n\n  // const createStripePaymentSuccess = async (res: any, token: any) => {\n  //   try {\n\n  //     // @ts-ignore;\n  //     const result = await stripe.confirmPaymentIntent(res.client_secret, {payment_method: token})\n  //     if(result?.paymentIntent?.status === 'succeeded') {\n  //       // this.setState({ isFetching: true });\n  //       let stripeData = {\n  //         data: {\n  //           stripe_payment_id: token,\n  //           payment_intent_id: result?.paymentIntent?.id,\n  //         }\n  //       };\n  //       confirmPaymentSuccess(stripeData);\n  //     }\n  //   } catch (e) {\n  //     console.log('@@@ Stripe Confirm Payment Error ============', e);\n  //     // this.releaseBlockQuantity();\n  // }\n  // }\n\n  // const confirmPaymentSuccess = (data: any) => {\n  //   const token = localStorage.getItem(\"token\");\n  //   const headers = {\n  //     'Content-Type': 'application/json',\n  //     token\n  //   }\n  //   axios.put(baseUrl + confirmPaymentEndPoint, data, { headers })\n  //     .then(res => {\n  //       if (res.data.data) {\n  //         // @ts-ignore\n  //         window.notify([{type: \"success\", message: res?.data?.data?.message || \"Payment successfull.\"}])\n  //       }\n  //     })\n  //     .catch(error => {\n  //       console.error(error);\n  //       // @ts-ignore\n  //       window.notify([{type: \"danger\", message: error?.message || \"Something went wrong\"}])\n  //     })\n  // }\n\n  // const handleSubmit = async (event: any) => {\n  //   event.preventDefault();\n  //   const token = localStorage.getItem(\"token\");\n\n  //   if (!stripe || !elements) {\n  //     // Stripe.js has not loaded yet. Make sure to disable\n  //     // form submission until Stripe.js has loaded.\n  //     return;\n  //   }\n  //   // @ts-ignore\n\n  //   checkZipcodeAvailability();\n\n  //   const user = JSON.parse(localStorage.getItem(\"user\"))\n\n  //   const { paymentMethod } = await stripe.createPaymentMethod({\n  //     type: 'card',\n  //     // @ts-ignore\n  //     card: elements.getElement(CardNumberElement),\n  //   });\n\n  //   const requestBody = {\n  //     data: {\n  //       attributes: {\n  //         amount: parseFloat(cartDetails?.total),\n  //         account_id: user?.id,\n  //         order_id: cartDetails?.id\n  //       },\n  //       payment_token: paymentMethod?.id\n  //     }\n  //   };\n\n  //   const headers = {\n  //     'Content-Type': 'application/json',\n  //     token\n  //   }\n\n  //   axios.post(`${baseUrl}${CreatePaymentEndPoint}`, requestBody, { headers })\n  //     .then(res => {\n  //       // Once the payment API integrate we're add ahead functionality here.\n  //       debugger\n  //       if (res?.status === 200) {\n  //         // @ts-ignore\n  //         createStripePaymentSuccess(res?.data?.data, paymentMethod.id);\n  //         // @ts-ignore\n  //         window.notify([{type: \"success\", message: res?.data?.message || \"Payment initiated successfull.\"}])\n  //       }\n  //     })\n  //     .catch(error => {\n  //       // @ts-ignore\n  //       window.notify([{type: \"danger\", message: error?.message || \"Something went wrong\"}])\n  //     })\n  //     .finally(() => {\n\n  //   })\n  // };\n  // @ts-ignore\n  const userData = JSON.parse(localStorage.getItem(\"userData\"));\n\n  return (\n    <>\n      <Row>\n        <Col xl=\"4\" lg=\"4\" md=\"12\" sm=\"12\" xs=\"12\">\n          <div className=\"card-details\">\n            <Cards\n              cvc={cvc}\n              expiry={expiry}\n              focused={focus}\n              name={userData?.name ? userData.name : \"User Name\"}\n              number={number}\n            />\n          </div>\n        </Col>\n        <Col xl=\"8\" lg=\"8\" md=\"12\" sm=\"12\" xs=\"12\">\n          <div className=\"stripe-form\">\n            <form onSubmit={(event) => handleSubmit(event, stripe, elements)}>\n              <Row className=\"mb-3\">\n                <Col>\n                  <div className=\"card-details\">\n                    Card Details\n                </div>\n                </Col>\n              </Row>\n              <Row className=\"mb-3\">\n                <Col md={3}>\n                  <label className=\"stripe-label\">Card number</label>\n                </Col>\n                <Col md={9}>\n                  <CardNumberElement\n                    // @ts-ignore\n                    options={options}\n                    onReady={() => {\n                      console.log('CardNumberElement [ready]');\n                    }}\n                    onChange={(event:any) => {\n                      console.log('CardNumberElement [change]', event,\n                      //@ts-ignore\n                      window.notify([{type:'danger',message:event?.error?.message}]),);\n                    }}\n                    onBlur={() => {\n                      console.log('CardNumberElement [blur]');\n                    }}\n                    onFocus={() => {\n                      console.log('CardNumberElement [focus]');\n                    }}\n                  />\n                </Col>\n              </Row>\n              <Row className=\"mb-3\">\n                <Col md={3}>\n                  <label className=\"stripe-label\">Expiration date</label>\n                </Col>\n                <Col md={9}>\n                  <CardExpiryElement\n                    // @ts-ignore\n                    options={options}\n                    onReady={() => {\n                      console.log('CardNumberElement [ready]');\n                    }}\n                    onChange={(event:any) => {\n                      console.log('CardNumberElement [change]', event,\n                      //@ts-ignore\n                      window.notify([{type:'danger',message:event?.error?.message}]),\n                      );\n                    }}\n                    onBlur={() => {\n                      console.log('CardNumberElement [blur]');\n                    }}\n                    onFocus={() => {\n                      console.log('CardNumberElement [focus]');\n                    }}\n                    className=\"card-expiration\"\n                  />\n                </Col>\n              </Row>\n              <Row className=\"mb-3\">\n                <Col md={3}>\n                  <label className=\"stripe-label\">CVC</label>\n                </Col>\n                <Col md={9}>\n                  <CardCvcElement\n                    // @ts-ignore\n                    options={options}\n                    onReady={() => {\n                      console.log('CardNumberElement [ready]');\n                    }}\n                    onChange={(event:any) => {\n                      console.log('CardNumberElement [change]', event,\n                      //@ts-ignore\n                      window.notify([{type:'danger',message:event?.error?.message}]),\n                      );\n                    }}\n                    onBlur={() => {\n                      console.log('CardNumberElement [blur]');\n                    }}\n                    onFocus={() => {\n                      console.log('CardNumberElement [focus]');\n                    }}\n                  />\n                </Col>\n              </Row>\n              <Row className=\"mb-3\">\n                <Col>\n                  <div className=\" stripe-btn text-right pr-5\">\n                    <button className=\"btn btn-primary btn-lg mt-5\" type=\"submit\" disabled={!stripe}>\n                      Proceed to Pay\n            </button>\n                  </div>\n                </Col>\n              </Row>\n            </form>\n          </div>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default StripPayment;\n"]},"metadata":{},"sourceType":"module"}