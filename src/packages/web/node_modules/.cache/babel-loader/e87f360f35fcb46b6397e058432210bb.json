{"ast":null,"code":"import _regeneratorRuntime from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\n/* App/Lib/GeneralHelpers.js */\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Platform from \"react-native-web/dist/exports/Platform\"; //@ts-ignore\n\nimport _ from 'lodash';\nimport StorageProvider from './StorageProvider';\nexport function getOS() {\n  return Platform.OS;\n}\n/**\n * SCALING - SAME VIEW FOR TABLET AND IPHONE ADDED THIS SCALE IN HEIGHT, WIDTH, MARGIN, PADDING\n */\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height,\n    deviceScale = _Dimensions$get.scale,\n    fontScale = _Dimensions$get.fontScale;\n\nvar baseWidth = 360;\nvar baseHeight = 700;\nvar scaleWidth = width / baseWidth;\nvar scaleHeight = height / baseHeight;\nvar scale = Math.min(scaleWidth, scaleHeight); // const storageProvider = require('./StorageProvider');\n\nexport var scaleRatio = deviceScale;\nexport var deviceWidth = width;\nexport var deviceHeight = height;\nexport var deviceAspectRatio = width / height;\nexport var scaledSize = function scaledSize(size) {\n  return Math.ceil(size * scale);\n};\nexport var widthFromPercentage = function widthFromPercentage(per) {\n  return width * per / 100;\n};\nexport var heightFromPercentage = function heightFromPercentage(per) {\n  return height * per / 100;\n};\n\nfunction calcZoom(longitudeDelta) {\n  // Omit rounding intentionally for the example\n  return Math.log(360 / longitudeDelta) / Math.LN2;\n}\n\nfunction calcLongitudeDelta(zoom) {\n  var power = Math.log2(360) - zoom;\n  return Math.pow(2, power);\n}\n\nexport var calculateDelta = function calculateDelta() {\n  // Initial values\n  var latitudeDelta = 0.004757;\n  var longitudeDelta = 0.006866;\n  var coef = latitudeDelta / longitudeDelta; // always the same no matter your zoom\n  // Find zoom level\n\n  var zoomLvlCalculated = calcZoom(longitudeDelta); //console.log(zoomLvlCalculated); // 15.678167523696594\n  // Find longitudeDelta based on the found zoom  \n\n  var longitudeDeltaCalculated = calcLongitudeDelta(zoomLvlCalculated); // 0.006865999999999988 which is the same like the initial longitudeDelta, if we omit the floating point calc difference\n  //console.log('longitudeDeltaCalculated', longitudeDeltaCalculated);\n  // Find the latitudeDelta with the coefficient\n\n  var latitudeDeltaCalculated = longitudeDeltaCalculated * coef; //0.004756999999999992 which is the same like the initial latitudeDelta, if we omit the floating point calc difference\n  //console.log('latitudeDeltaCalculated', latitudeDeltaCalculated);\n\n  return {\n    latitudeDelta: latitudeDeltaCalculated,\n    longitudeDelta: longitudeDeltaCalculated\n  };\n};\n/**\n * CHECKS IF THE PASSED VALUE IS EMPTY STRING OR NOT\n * RETURN `true` IF STRING IS EMPTY ELSE RETURN `false`\n */\n\nexport function isEmpty(val) {\n  var isValEmpty = true;\n\n  if (!_.isNil(val) && _.trim(String(val)).length > 0) {\n    isValEmpty = false;\n  }\n\n  return isValEmpty;\n}\n/**\n * CHECKS IF THE PASSED VALUE IS VALID EMAIL\n * RETURN `true` IF VALID ELSE RETURN `false`\n */\n\nexport function isEmail(fieldName, val) {\n  //const regex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  var emailReg = new RegExp(\"[^@]+[@][\\\\S]+[.][\\\\S]+\");\n\n  if (isEmpty(val)) {\n    return {\n      status: false,\n      message: \"Email address field cannot be empty.\"\n    };\n  } else if (!emailReg.test(val)) {\n    return {\n      status: false,\n      message: \"Invalid email address.\"\n    };\n  }\n\n  return {\n    status: true,\n    message: \"\"\n  };\n}\n/* To handle phone validation */\n\nexport function phoneValidate(fieldName, value) {\n  console.log('phoneValidate'); //const phoneRegex = /^962[0-9]{8,9}$/;\n  //const phoneRegex = /^((\\+\\d{1,3}(-| )?\\(?\\d\\)?(-| )?\\d{1,3})|(\\(?\\d{2,3}\\)?))(-| )?(\\d{3,4})(-| )?(\\d{4})(( x| ext)\\d{1,5}){0,1}$/;\n\n  var phoneRegex = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n\n  if (value === \"\" || value === undefined || value === null) {\n    return {\n      status: false,\n      message: \"The \".concat(fieldName, \" field cannot be left blank.\")\n    };\n  } else if (!phoneRegex.test(value)) {\n    return {\n      status: false,\n      message: \"Please enter valid \".concat(fieldName)\n    };\n  }\n\n  return {\n    status: true,\n    message: \"\"\n  };\n}\nexport function confirmPasswordValidate(fieldName, confirmPassword) {\n  var fieldName2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'password';\n  var password = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n\n  //const phoneRegex = /^962[0-9]{8,9}$/;\n  if (confirmPassword === \"\" || confirmPassword === undefined || confirmPassword === null) {\n    return {\n      status: false,\n      message: \"The \".concat(fieldName, \" field cannot be left blank.\")\n    };\n  } else if (password && password !== confirmPassword) {\n    return {\n      status: false,\n      message: \"The \".concat(fieldName, \" should be same as \").concat(fieldName2)\n    };\n  }\n\n  return {\n    status: true,\n    message: \"\"\n  };\n}\nexport function passwordValidate(fieldName) {\n  var password = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var passwordRegex = /^(?=.*[A-Za-z])(?=.*[A-Z])(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n\n  if (password === \"\" || password === undefined || password === null) {\n    return {\n      status: false,\n      message: \"The \".concat(fieldName, \" field cannot be left blank.\")\n    };\n  } else if (!passwordRegex.test(password)) {\n    return {\n      status: false,\n      message: \"The \".concat(fieldName, \" should contain atleast 8 letters, one uppercase and one special character.\")\n    };\n  }\n\n  return {\n    status: true,\n    message: \"\"\n  };\n}\n/* To handle required validation */\n\nexport function requireValidate(fieldName, value) {\n  var isBool = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (isBool) {\n    if (value) {\n      return {\n        status: true,\n        message: \"\"\n      };\n    }\n\n    return {\n      status: false,\n      message: \"\"\n    };\n  }\n\n  if (value === \"\" || value === undefined || value === null) {\n    if (fieldName === \"lmsUrl\") {\n      return {\n        status: false,\n        message: \"Please select \".concat(fieldName)\n      };\n    } else {\n      return {\n        status: false,\n        message: \"The \".concat(fieldName, \" field cannot be left blank.\")\n      };\n    }\n  }\n\n  return {\n    status: true,\n    message: \"\"\n  };\n}\nexport var customAlert = function customAlert() {\n  var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var okOnPress = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var cancelOnPress = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  var buttons = [];\n  cancelOnPress ? buttons.push({\n    text: 'Cancel',\n    onPress: function onPress() {\n      return cancelOnPress;\n    },\n    style: 'cancel'\n  }) : \"\";\n  okOnPress ? buttons.push({\n    text: 'OK',\n    onPress: function onPress() {\n      return okOnPress;\n    }\n  }) : buttons.push({\n    text: 'OK',\n    onPress: function onPress() {\n      return console.log('Ok Pressed');\n    }\n  });\n  return Alert.alert(title, message, buttons);\n};\nexport function setStorageData(_x, _x2) {\n  return _setStorageData.apply(this, arguments);\n}\n\nfunction _setStorageData() {\n  _setStorageData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(key, data) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(key && data)) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return StorageProvider.set(key, data);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _setStorageData.apply(this, arguments);\n}\n\nexport function getStorageData(_x3) {\n  return _getStorageData.apply(this, arguments);\n}\n\nfunction _getStorageData() {\n  _getStorageData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key) {\n    var parseToJson,\n        data,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            parseToJson = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : false;\n\n            if (!(StorageProvider && key)) {\n              _context2.next = 13;\n              break;\n            }\n\n            _context2.next = 4;\n            return StorageProvider.get(key);\n\n          case 4:\n            _context2.t0 = _context2.sent;\n\n            if (_context2.t0) {\n              _context2.next = 7;\n              break;\n            }\n\n            _context2.t0 = null;\n\n          case 7:\n            data = _context2.t0;\n\n            if (!(parseToJson && data)) {\n              _context2.next = 12;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", JSON.parse(data));\n\n          case 12:\n            return _context2.abrupt(\"return\", data);\n\n          case 13:\n            return _context2.abrupt(\"return\", null);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getStorageData.apply(this, arguments);\n}\n\nexport function removeStorageData(_x4) {\n  return _removeStorageData.apply(this, arguments);\n}\n\nfunction _removeStorageData() {\n  _removeStorageData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(StorageProvider && key)) {\n              _context3.next = 3;\n              break;\n            }\n\n            _context3.next = 3;\n            return StorageProvider.remove(key);\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _removeStorageData.apply(this, arguments);\n}\n\nexport function logoutUser() {\n  return _logoutUser.apply(this, arguments);\n} // export function isEmpty(val: any): boolean {\n\nfunction _logoutUser() {\n  _logoutUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    var logoutType,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            logoutType = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : '';\n            console.log('logoutUser');\n\n            if (!StorageProvider) {\n              _context4.next = 13;\n              break;\n            }\n\n            _context4.next = 5;\n            return removeStorageData('authToken');\n\n          case 5:\n            _context4.next = 7;\n            return removeStorageData('profileData');\n\n          case 7:\n            _context4.next = 9;\n            return removeStorageData('deviceToken');\n\n          case 9:\n            _context4.next = 11;\n            return removeStorageData('role');\n\n          case 11:\n            _context4.next = 13;\n            return removeStorageData('catalogListData');\n\n          case 13:\n            //NavigationService.resetTo('primaryStack', { screen: 'Login' });\n            if (logoutType == 'force') {\n              customAlert('Session expired', 'Your session has expired. Please login again to continue.');\n              setTimeout(function () {\n                resetTo('primaryStack', {\n                  screen: 'EmailAccountLoginBlock'\n                });\n              }, 2000);\n            } else {\n              resetTo('primaryStack', {\n                screen: 'EmailAccountLoginBlock'\n              });\n            }\n\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _logoutUser.apply(this, arguments);\n}\n\nexport function fetchImageUrl(_x5) {\n  return _fetchImageUrl.apply(this, arguments);\n}\n/** \n * Navigation Services Helper\n * */\n\nfunction _fetchImageUrl() {\n  _fetchImageUrl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url) {\n    var imgUrl;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return fetch(url).then(function (response) {\n              console.log(\"console -> response\", response);\n\n              if (!response.ok) {\n                console.log(\"Rewrite error handling - Draft code\");\n                return url;\n              }\n\n              var responseJson = response.json();\n              console.log(\"console -> responseJson\", responseJson);\n              response.json().then(function (data) {\n                console.log(\"console -> data\", data);\n                return data.media_details.sizes.medium_large.source_url;\n              });\n            }).catch(function (error) {\n              return url;\n            });\n\n          case 2:\n            imgUrl = _context5.sent;\n            return _context5.abrupt(\"return\", imgUrl);\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _fetchImageUrl.apply(this, arguments);\n}\n\nvar _navigator;\n\nexport function setNavigator(nav) {\n  _navigator = nav;\n} // Gets the current screen from navigation state\n\nexport function getActiveRouteName(state) {\n  var route = state.routes[state.index];\n\n  if (route.state) {\n    // Dive into nested navigators\n    return getActiveRouteName(route.state);\n  }\n\n  return route.name;\n}\nexport function resetTo(routeName) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _navigator.reset({\n    index: 0,\n    routes: [{\n      name: routeName,\n      params: params\n    }]\n  });\n}\n/** Navigation Services Helper Ends*/","map":{"version":3,"sources":["/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/packages/framework/src/Utilities.ts"],"names":["_","StorageProvider","getOS","Platform","OS","Dimensions","get","width","height","deviceScale","scale","fontScale","baseWidth","baseHeight","scaleWidth","scaleHeight","Math","min","scaleRatio","deviceWidth","deviceHeight","deviceAspectRatio","scaledSize","size","ceil","widthFromPercentage","per","heightFromPercentage","calcZoom","longitudeDelta","log","LN2","calcLongitudeDelta","zoom","power","log2","pow","calculateDelta","latitudeDelta","coef","zoomLvlCalculated","longitudeDeltaCalculated","latitudeDeltaCalculated","isEmpty","val","isValEmpty","isNil","trim","String","length","isEmail","fieldName","emailReg","RegExp","status","message","test","phoneValidate","value","console","phoneRegex","undefined","confirmPasswordValidate","confirmPassword","fieldName2","password","passwordValidate","passwordRegex","requireValidate","isBool","customAlert","title","okOnPress","cancelOnPress","buttons","push","text","onPress","style","Alert","alert","setStorageData","key","data","set","getStorageData","parseToJson","JSON","parse","removeStorageData","remove","logoutUser","logoutType","setTimeout","resetTo","screen","fetchImageUrl","url","fetch","then","response","ok","responseJson","json","media_details","sizes","medium_large","source_url","catch","error","imgUrl","_navigator","setNavigator","nav","getActiveRouteName","state","route","routes","index","name","routeName","params","reset"],"mappings":"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","sourcesContent":["/* App/Lib/GeneralHelpers.js */\nimport { Alert, Dimensions, Platform } from 'react-native';\n//@ts-ignore\nimport _ from 'lodash';\n\nimport StorageProvider from './StorageProvider';\n\nexport function getOS(): string {\n  return Platform.OS;\n}\n\n/**\n * SCALING - SAME VIEW FOR TABLET AND IPHONE ADDED THIS SCALE IN HEIGHT, WIDTH, MARGIN, PADDING\n */\nconst {width, height, scale: deviceScale, fontScale} = Dimensions.get('window');\nconst baseWidth = 360;\nconst baseHeight = 700;\n\nconst scaleWidth = width / baseWidth;\nconst scaleHeight = height / baseHeight;\nconst scale = Math.min(scaleWidth, scaleHeight);\n\n// const storageProvider = require('./StorageProvider');\n\nexport const scaleRatio = deviceScale;\nexport const deviceWidth = width;\nexport const deviceHeight = height;\nexport const deviceAspectRatio = width / height;\nexport const scaledSize = (size:any) => Math.ceil(size * scale);\nexport const widthFromPercentage = (per:number) => (width * per) / 100;\nexport const heightFromPercentage = (per:number) => (height * per) / 100;\n\n\nfunction calcZoom(longitudeDelta:any) {\n  // Omit rounding intentionally for the example\n  return Math.log(360 / longitudeDelta) / Math.LN2;\n}\n\nfunction calcLongitudeDelta(zoom:any) {\n  var power = Math.log2(360) - zoom;\n  return Math.pow(2, power);\n}\n\nexport const calculateDelta = () => {\n  // Initial values\n  var latitudeDelta = 0.004757;\n  var longitudeDelta = 0.006866;\n\n  var coef = latitudeDelta / longitudeDelta; // always the same no matter your zoom\n\n  // Find zoom level\n  var zoomLvlCalculated = calcZoom(longitudeDelta);\n  //console.log(zoomLvlCalculated); // 15.678167523696594\n\n  // Find longitudeDelta based on the found zoom  \n  var longitudeDeltaCalculated = calcLongitudeDelta(zoomLvlCalculated); // 0.006865999999999988 which is the same like the initial longitudeDelta, if we omit the floating point calc difference\n  //console.log('longitudeDeltaCalculated', longitudeDeltaCalculated);\n\n  // Find the latitudeDelta with the coefficient\n  var latitudeDeltaCalculated = longitudeDeltaCalculated * coef; //0.004756999999999992 which is the same like the initial latitudeDelta, if we omit the floating point calc difference\n  //console.log('latitudeDeltaCalculated', latitudeDeltaCalculated);\n  return {\n    latitudeDelta: latitudeDeltaCalculated,\n    longitudeDelta: longitudeDeltaCalculated\n  }\n}\n\n/**\n * CHECKS IF THE PASSED VALUE IS EMPTY STRING OR NOT\n * RETURN `true` IF STRING IS EMPTY ELSE RETURN `false`\n */\nexport function isEmpty(val: any): boolean {\n  let isValEmpty = true;\n  if (!_.isNil(val) && _.trim(String(val)).length > 0) {\n    isValEmpty = false;\n  }\n  return isValEmpty;\n}\n\n/**\n * CHECKS IF THE PASSED VALUE IS VALID EMAIL\n * RETURN `true` IF VALID ELSE RETURN `false`\n */\nexport function isEmail(fieldName: string, val: string) {\n  //const regex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  const emailReg = new RegExp(\"[^@]+[@][\\\\S]+[.][\\\\S]+\");\n\n  if (isEmpty(val)) {\n    return { status: false, message: `Email address field cannot be empty.` };\n  } else if (!emailReg.test(val)) {\n    return { status: false, message: `Invalid email address.` };\n  }\n  return { status: true, message: \"\" };\n}\n\n/* To handle phone validation */\nexport function phoneValidate(fieldName: string, value: any) {\n  console.log('phoneValidate');\n  //const phoneRegex = /^962[0-9]{8,9}$/;\n  //const phoneRegex = /^((\\+\\d{1,3}(-| )?\\(?\\d\\)?(-| )?\\d{1,3})|(\\(?\\d{2,3}\\)?))(-| )?(\\d{3,4})(-| )?(\\d{4})(( x| ext)\\d{1,5}){0,1}$/;\n  const phoneRegex = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n  if (value === \"\" || value === undefined || value === null) {\n    return { status: false, message: `The ${fieldName} field cannot be left blank.` };\n  } else if (!phoneRegex.test(value)) {\n    return {\n      status: false,\n      message: `Please enter valid ${fieldName}`\n    };\n  }\n\n  return { status: true, message: \"\" };\n}\n\nexport function confirmPasswordValidate(\n  fieldName: string,\n  confirmPassword: string,\n  fieldName2: string = 'password',\n  password: string = ''\n) {\n  //const phoneRegex = /^962[0-9]{8,9}$/;\n  if (confirmPassword === \"\" || confirmPassword === undefined || confirmPassword === null) {\n    return { status: false, message: `The ${fieldName} field cannot be left blank.` };\n  } else if (password && password !== confirmPassword) {\n      return {\n        status: false,\n        message: `The ${fieldName} should be same as ${fieldName2}`\n      };\n  }\n\n  return { status: true, message: \"\" };\n}\n\nexport function passwordValidate(fieldName: string, password: string = '') {\n  const passwordRegex = /^(?=.*[A-Za-z])(?=.*[A-Z])(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n  if (password === \"\" || password === undefined || password === null) {\n    return { status: false, message: `The ${fieldName} field cannot be left blank.` };\n  } else if (!passwordRegex.test(password)) {\n      return {\n        status: false,\n        message: `The ${fieldName} should contain atleast 8 letters, one uppercase and one special character.`\n      };\n  }\n\n  return { status: true, message: \"\" };\n}\n\n/* To handle required validation */\nexport function requireValidate(fieldName: string, value: any, isBool: boolean = false) {\n  if (isBool) {\n    if (value) {\n      return { status: true, message: \"\" };\n    }\n    return { status: false, message: \"\" };\n  }\n  if (value === \"\" || value === undefined || value === null) {\n    if (fieldName === \"lmsUrl\") {\n      return { status: false, message: `Please select ${fieldName}` };\n    }\n    else {\n      return { status: false, message: `The ${fieldName} field cannot be left blank.` };\n    }\n  }\n  return { status: true, message: \"\" };\n}\n\nexport const customAlert = (title:string = \"\", message:string = \"\", okOnPress:Function|any = null, cancelOnPress:Function|any = null) => {\n  const buttons:Array<any> = [];\n  cancelOnPress ? buttons.push({text: 'Cancel', onPress: () => cancelOnPress, style: 'cancel'}) : \"\";\n  okOnPress ? buttons.push({text: 'OK', onPress: () => okOnPress}) : buttons.push({text: 'OK', onPress: () => console.log('Ok Pressed')})\n  return(\n    Alert.alert(\n      title,\n      message,\n      buttons\n    )\n  );\n}\n\nexport async function setStorageData(key:string, data:any){\n  if (key && data) {\n    await StorageProvider.set(key, data);\n  }\n}\n\nexport async function getStorageData(key:string, parseToJson:boolean = false){\n  if (StorageProvider && key) {\n    const data = await StorageProvider.get(key) || null;\n    if(parseToJson && data){\n      return JSON.parse(data)\n    }else{\n      return data;\n    }\n  }\n  return null;\n}\n\nexport async function removeStorageData(key:string){\n  if (StorageProvider && key) {\n    await StorageProvider.remove(key);\n  }\n}\n\nexport async function logoutUser(logoutType: string = '') {\n  console.log('logoutUser');\n  if (StorageProvider) {\n    await removeStorageData('authToken');\n    await removeStorageData('profileData');\n    await removeStorageData('deviceToken');\n    await removeStorageData('role');\n    await removeStorageData('catalogListData');\n  }\n  //NavigationService.resetTo('primaryStack', { screen: 'Login' });\n  if(logoutType == 'force'){\n    customAlert('Session expired', 'Your session has expired. Please login again to continue.');\n    setTimeout(() => {resetTo('primaryStack', { screen: 'EmailAccountLoginBlock' })},2000);\n  }else{\n    resetTo('primaryStack', { screen: 'EmailAccountLoginBlock' });\n  }\n}\n\n// export function isEmpty(val: any): boolean {\nexport async function fetchImageUrl(url:any): Promise<string>{\n  let imgUrl = await fetch(url)\n    .then(function (response) {\n      console.log(\"console -> response\", response);\n      if (!response.ok) {\n        console.log(\"Rewrite error handling - Draft code\");\n        return url;\n      }\n      let responseJson = response.json();\n      console.log(\"console -> responseJson\", responseJson);\n      response.json().then(function (data) {\n        console.log(\"console -> data\", data);\n        return data.media_details.sizes.medium_large.source_url\n      })\n    })\n    .catch(function (error) {\n      return url;\n    });\n  return imgUrl;\n}\n\n/** \n * Navigation Services Helper\n * */\nlet _navigator:any;\n\nexport function setNavigator(nav:any) {\n  _navigator = nav;\n}\n\n// Gets the current screen from navigation state\nexport function getActiveRouteName(state:any):any {\n  const route = state.routes[state.index];\n\n  if (route.state) {\n    // Dive into nested navigators\n    return getActiveRouteName(route.state);\n  }\n\n  return route.name;\n}\n\nexport function resetTo(routeName:any, params:object = {}) {\n  _navigator.reset({\n    index: 0,\n    routes: [{ name: routeName, params }],\n  });\n}\n/** Navigation Services Helper Ends*/"]},"metadata":{},"sourceType":"module"}