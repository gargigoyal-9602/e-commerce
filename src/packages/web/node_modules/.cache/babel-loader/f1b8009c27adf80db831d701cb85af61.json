{"ast":null,"code":"import _toConsumableArray from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n//@ts-nocheck;\nimport { Message } from \"../../../framework/src/Message\";\nimport { BlockComponent } from \"../../../framework/src/BlockComponent\";\nimport MessageEnum, { getName } from \"../../../framework/src/Messages/MessageEnum\";\nimport { runEngine } from \"../../../framework/src/RunEngine\"; // @ts-ignore\n\nimport map from \"lodash/map\"; // Customizable Area Start\n// import { imgPasswordInVisible, imgPasswordVisible } from \"../assets\";\n// Customizable Area End\n\nexport var configJSON = require(\"./config.js\");\n\nvar ProfileWebController = /*#__PURE__*/function (_BlockComponent) {\n  _inherits(ProfileWebController, _BlockComponent);\n\n  var _super = _createSuper(ProfileWebController);\n\n  // Customizable Area Start\n  //logout handler\n  // Customizable Area End\n  function ProfileWebController(props) {\n    var _this;\n\n    _classCallCheck(this, ProfileWebController);\n\n    _this = _super.call(this, props);\n    _this.apiEmailLoginCallId = \"\";\n    _this.validationApiCallId = \"\";\n    _this.getOrdersCallID = \"\";\n    _this.cancelOrderCallID = \"\";\n    _this.getWishListCallID = \"\";\n    _this.emailReg = void 0;\n    _this.labelTitle = \"\";\n    _this.openLogout = void 0;\n    _this.getAllNotificationsAPICallId = void 0;\n\n    _this.deleteLogout = function () {\n      _this.setState(_objectSpread(_objectSpread({}, _this.state), {}, {\n        openLogoutModal: false\n      }));\n    };\n\n    _this.getAllNotificationsList = function () {\n      _this.setState({\n        loadingWishlist: true,\n        commonLoader: true\n      });\n\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      _this.getAllNotificationsAPICallId = requestMessage.messageId;\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.getAllNotificationsAPIEndPoint);\n      var headers = {\n        'Content-Type': 'application/json',\n        token: localStorage.getItem('token')\n      };\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), JSON.stringify(headers));\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiGetMethod);\n      runEngine.sendMessage(requestMessage.id, requestMessage);\n    };\n\n    _this.receive = _this.receive.bind(_assertThisInitialized(_this));\n    _this.onHandleLogout = _this.onHandleLogout.bind(_assertThisInitialized(_this));\n    _this.getWishList = _this.getWishList.bind(_assertThisInitialized(_this));\n    _this.getOrders = _this.getOrders.bind(_assertThisInitialized(_this)); // Customizable Area Start\n\n    _this.subScribedMessages = [getName(MessageEnum.CountryCodeMessage), getName(MessageEnum.RestAPIResponceMessage), getName(MessageEnum.ReciveUserCredentials)];\n    _this.state = {\n      userData: [],\n      email: \"xyz@gmail.com\",\n      userName: \"Hello WOrld\",\n      profileImage: localStorage.getItem('profileImage') || require('./images/user.png'),\n      activeTab: \"1\",\n      orders: [],\n      wishlist: [],\n      loadingOrder: false,\n      loadingWishlist: false\n    };\n    _this.emailReg = new RegExp(\"\");\n    _this.labelTitle = configJSON.labelTitle; // Customizable Area End\n\n    runEngine.attachBuildingBlock(_assertThisInitialized(_this), _this.subScribedMessages);\n    return _this;\n  }\n\n  _createClass(ProfileWebController, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // this.callGetValidationApi();\n                this.send(new Message(getName(MessageEnum.RequestUserCredentials))); // Customizable Area Start\n                // Customizable Area End\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }() // Customizable Area Start\n    // Customizable Area End\n\n  }, {\n    key: \"receive\",\n    value: function () {\n      var _receive = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(from, message) {\n        var apiRequestCallId, responseJSON, errorMessage, _responseJSON$data, _responseJSON$data$or, _responseJSON$data2, _responseJSON$data2$m, _responseJSON$data3, _responseJSON$data3$m, _responseJSON$data3$m2, _responseJSON$data4, _responseJSON$data4$m, _responseJSON$data4$m2, _responseJSON$data5, _responseJSON$data5$m, _responseJSON$data5$m2, _responseJSON$data6, _responseJSON$data6$w, _responseJSON$data6$w2, _responseJSON$data6$w3, _meta$pagination, data, meta;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // Customizable Area Start\n                if (message.id === getName(MessageEnum.RestAPIResponceMessage)) {\n                  apiRequestCallId = message.getData(getName(MessageEnum.RestAPIResponceDataMessage));\n                  responseJSON = message.getData(getName(MessageEnum.RestAPIResponceSuccessMessage));\n                  errorMessage = message.getData(getName(MessageEnum.RestAPIResponceErrorMessage));\n\n                  if (this.getOrdersCallID === apiRequestCallId) {\n                    this.setState({\n                      loadingOrder: false,\n                      commonLoader: false\n                    });\n\n                    if (responseJSON === null || responseJSON === void 0 ? void 0 : responseJSON.errors) {\n                      map(responseJSON.errors, function (error) {\n                        map(error, function (value, key) {\n                          // @ts-ignore\n                          window.notify([{\n                            message: value || \"Something went wrong!!!\",\n                            type: \"danger\"\n                          }]);\n                        });\n                      });\n                    }\n\n                    if (responseJSON === null || responseJSON === void 0 ? void 0 : (_responseJSON$data = responseJSON.data) === null || _responseJSON$data === void 0 ? void 0 : (_responseJSON$data$or = _responseJSON$data.order) === null || _responseJSON$data$or === void 0 ? void 0 : _responseJSON$data$or.data) {\n                      this.setState({\n                        orders: this.state.isLoadMoreOrders ? [].concat(_toConsumableArray(this.state.orders), _toConsumableArray(responseJSON.data.order.data)) : responseJSON.data.order.data // orders: responseJSON.data.order.data\n\n                      });\n                    }\n\n                    if (responseJSON === null || responseJSON === void 0 ? void 0 : (_responseJSON$data2 = responseJSON.data) === null || _responseJSON$data2 === void 0 ? void 0 : (_responseJSON$data2$m = _responseJSON$data2.meta) === null || _responseJSON$data2$m === void 0 ? void 0 : _responseJSON$data2$m.pagination) {\n                      this.setState({\n                        totalOrdersCount: responseJSON === null || responseJSON === void 0 ? void 0 : (_responseJSON$data3 = responseJSON.data) === null || _responseJSON$data3 === void 0 ? void 0 : (_responseJSON$data3$m = _responseJSON$data3.meta) === null || _responseJSON$data3$m === void 0 ? void 0 : (_responseJSON$data3$m2 = _responseJSON$data3$m.pagination) === null || _responseJSON$data3$m2 === void 0 ? void 0 : _responseJSON$data3$m2.total_count,\n                        isLoadMoreOrders: (responseJSON === null || responseJSON === void 0 ? void 0 : (_responseJSON$data4 = responseJSON.data) === null || _responseJSON$data4 === void 0 ? void 0 : (_responseJSON$data4$m = _responseJSON$data4.meta) === null || _responseJSON$data4$m === void 0 ? void 0 : (_responseJSON$data4$m2 = _responseJSON$data4$m.pagination) === null || _responseJSON$data4$m2 === void 0 ? void 0 : _responseJSON$data4$m2.next_page) != null ? true : false,\n                        currentOrdersPageNo: responseJSON === null || responseJSON === void 0 ? void 0 : (_responseJSON$data5 = responseJSON.data) === null || _responseJSON$data5 === void 0 ? void 0 : (_responseJSON$data5$m = _responseJSON$data5.meta) === null || _responseJSON$data5$m === void 0 ? void 0 : (_responseJSON$data5$m2 = _responseJSON$data5$m.pagination) === null || _responseJSON$data5$m2 === void 0 ? void 0 : _responseJSON$data5$m2.current_page\n                      });\n                    }\n                  }\n\n                  if (this.cancelOrderCallID === apiRequestCallId) {\n                    this.setState({\n                      loadingOrder: false\n                    });\n\n                    if (responseJSON === null || responseJSON === void 0 ? void 0 : responseJSON.errors) {\n                      map(responseJSON.errors, function (error) {\n                        map(error, function (value, key) {\n                          // @ts-ignore\n                          window.notify([{\n                            message: value || \"Something went wrong!!!\",\n                            type: \"danger\"\n                          }]);\n                        });\n                      });\n                    } else {\n                      // @ts-ignore\n                      window.notify([{\n                        message: \"Order cancelled successfully!!!\",\n                        type: \"success\"\n                      }]);\n                    }\n                  } // WishList\n\n\n                  if (this.getWishListCallID === apiRequestCallId) {\n                    this.setState({\n                      loadingWishlist: false,\n                      commonLoader: false\n                    });\n\n                    if (responseJSON && ((_responseJSON$data6 = responseJSON.data) === null || _responseJSON$data6 === void 0 ? void 0 : (_responseJSON$data6$w = _responseJSON$data6.wishlist) === null || _responseJSON$data6$w === void 0 ? void 0 : (_responseJSON$data6$w2 = _responseJSON$data6$w.data) === null || _responseJSON$data6$w2 === void 0 ? void 0 : (_responseJSON$data6$w3 = _responseJSON$data6$w2.attributes) === null || _responseJSON$data6$w3 === void 0 ? void 0 : _responseJSON$data6$w3.wishlist_items)) {\n                      this.setState({\n                        wishlist: responseJSON.data.wishlist.data.attributes.wishlist_items\n                      });\n                    } else if (responseJSON === null || responseJSON === void 0 ? void 0 : responseJSON.errors) {\n                      map(responseJSON.errors, function (error) {\n                        map(error, function (value, key) {\n                          // @ts-ignore\n                          window.notify([{\n                            message: value || \"Something went wrong!!!\",\n                            type: \"danger\"\n                          }]);\n                        });\n                      });\n                    }\n                  }\n\n                  if (this.getAllNotificationsAPICallId === apiRequestCallId) {\n                    if (responseJSON) {\n                      data = responseJSON.data, meta = responseJSON.meta;\n                      this.setState({\n                        totalNotifications: meta === null || meta === void 0 ? void 0 : (_meta$pagination = meta.pagination) === null || _meta$pagination === void 0 ? void 0 : _meta$pagination.total_count,\n                        loadingWishlist: false,\n                        commonLoader: false\n                      }); // if (this.state.totalNotifications !== 0) {\n                      //   //@ts-ignore\n                      //   localStorage.setItem('notifications_count', this.state.totalNotifications);\n                      // }\n                    }\n                  }\n                } // Customizable Area End\n\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function receive(_x, _x2) {\n        return _receive.apply(this, arguments);\n      }\n\n      return receive;\n    }()\n  }, {\n    key: \"sendLoginFailMessage\",\n    value: function sendLoginFailMessage() {\n      var msg = new Message(getName(MessageEnum.LoginFaliureMessage));\n      this.send(msg);\n    }\n  }, {\n    key: \"routeToProfile\",\n    value: function routeToProfile(value) {\n      var matchTabName = '';\n\n      switch (value) {\n        case 'profile':\n          matchTabName = '1';\n          break;\n\n        case 'wishlist':\n          matchTabName = '2';\n          break;\n\n        case 'myorder':\n          matchTabName = '3';\n          break;\n\n        case 'saveaddresses':\n          matchTabName = '4';\n          break;\n\n        case 'connectaccount':\n          matchTabName = '5';\n          break;\n\n        case 'helpCenter':\n          // matchTabName = '6';\n          this.props.history.push(\"/help-center\");\n          break;\n\n        case 'notifications':\n          matchTabName = '7';\n          break;\n\n        case 'logout':\n          matchTabName = '8';\n          break;\n\n        default:\n          matchTabName = '1';\n          break;\n      }\n\n      this.setState({\n        activeTab: matchTabName\n      });\n    }\n  }, {\n    key: \"routeToHelpCenter\",\n    value: function routeToHelpCenter() {// this.props.history.push(\"/help-center\");\n    }\n  }, {\n    key: \"openLogoutModal\",\n    value: function openLogoutModal() {\n      this.setState(_objectSpread(_objectSpread({}, this.state), {}, {\n        openLogoutModal: true\n      }));\n    }\n  }, {\n    key: \"getOrders\",\n    value: function getOrders() {\n      this.setState({\n        loadingOrder: true,\n        commonLoader: true\n      });\n      var token = localStorage.getItem(\"token\");\n      var header = {\n        token: token,\n        \"Content-Type\": configJSON.validationApiContentType\n      };\n      var pageNo = 1;\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      this.getOrdersCallID = requestMessage.messageId;\n\n      if (this.state.isLoadMoreOrders) {\n        //@ts-ignore\n        pageNo = this.state.currentOrdersPageNo + 1; // Set EndPoints\n\n        requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), \"\".concat(configJSON.getOrders, \"?page=\").concat(pageNo));\n      } else {\n        // Set EndPoints\n        requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.getOrders);\n      } // Set Method Type\n\n\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiGetMethod); // set Headers \n\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), header); // set Body\n      // requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(body));\n      // requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(requestBody));\n\n      runEngine.sendMessage(requestMessage.id, requestMessage);\n    }\n  }, {\n    key: \"cancelOrder\",\n    value: function cancelOrder(ID) {\n      this.setState({\n        loadingOrder: true,\n        commonLoader: true\n      });\n      var token = localStorage.getItem(\"token\");\n      var header = {\n        token: token,\n        \"Content-Type\": configJSON.validationApiContentType\n      };\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      this.cancelOrderCallID = requestMessage.messageId; // Set Method Type\n\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiPutMethod); // Set EndPoints\n\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), \"/orders/\".concat(ID, \"/cancel_order\")); // set Headers \n\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), header);\n      runEngine.sendMessage(requestMessage.id, requestMessage); // axios.put(`https://ecommerceapp-39394-ruby.39394.dev.ap-southeast-1.aws.svc.builder.ai/bx_block_order_management/orders/${ID}/cancel_order`, header)\n      //   .then(res => {\n      //     // if (res?.data?.data?.order) {\n      //     //   this.setState({ orders: res?.data?.data?.order.data});\n      //     // }\n      //   })\n      //   .catch(error => {\n      //     console.error(error);\n      //     if (error?.request?.response && error?.request?.status !== 0) {\n      //       let response = JSON.parse(error.request.response);\n      //       map(response?.errors, (errorMesage: any) => {\n      //         map(errorMesage, (val: any, key: any) => {\n      //           console.log(key)\n      //           // @ts-ignore\n      //           window.notify([{ message: val || \"Something went wrong!!!\", type: \"danger\" }]);\n      //         })\n      //       })\n      //     }\n      //   })\n    }\n  }, {\n    key: \"getWishList\",\n    value: function getWishList() {\n      this.setState({\n        loadingWishlist: true,\n        commonLoader: true\n      });\n      var token = localStorage.getItem(\"token\");\n      var headers = {\n        token: token,\n        \"Content-Type\": configJSON.validationApiContentType\n      };\n      var requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n      this.getWishListCallID = requestMessage.messageId; // Set Method Type\n\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiGetMethod); // Set EndPoints\n\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.getWishListAPIEndPoint); // set Headers \n\n      requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), headers);\n      runEngine.sendMessage(requestMessage.id, requestMessage); // axios(`https://ecommerceapp-39394-ruby.39394.dev.ap-southeast-1.aws.svc.builder.ai/bx_block_wishlist/wishlists`, headers)\n      //   .then(res => {\n      //     if (res.data?.data?.wishlist?.data?.attributes?.wishlist_items) {\n      //       this.setState({ wishlist: res.data?.data?.wishlist?.data?.attributes?.wishlist_items })\n      //     }\n      //   })\n      //   .catch(error => {\n      //     console.error(error);\n      //     // @ts-ignore\n      //     if (error?.request?.response && error?.request?.status !== 0) {\n      //       let response = JSON.parse(error.request.response);\n      //       map(response?.errors, (errorMesage: any) => {\n      //         map(errorMesage, (val: any, key: any) => {\n      //           console.log(key)\n      //           // @ts-ignore\n      //           window.notify([{ message: val || \"Something went wrong!!!\", type: \"danger\" }]);\n      //         })\n      //       })\n      //     }\n      //   })\n    }\n  }, {\n    key: \"onHandleLogout\",\n    value: function onHandleLogout() {\n      localStorage.clear();\n      this.props.history.push(\"/\");\n    } //Get All Notifications API\n\n  }]);\n\n  return ProfileWebController;\n}(BlockComponent);\n\nexport { ProfileWebController as default };","map":{"version":3,"sources":["/home/lp-greenapex/Desktop/new_BB_BLOCK/freemium87482-350702-react-native/src/packages/blocks/profilebio/src/ProfileWebController.tsx"],"names":["Message","BlockComponent","MessageEnum","getName","runEngine","map","configJSON","require","ProfileWebController","props","apiEmailLoginCallId","validationApiCallId","getOrdersCallID","cancelOrderCallID","getWishListCallID","emailReg","labelTitle","openLogout","getAllNotificationsAPICallId","deleteLogout","setState","state","openLogoutModal","getAllNotificationsList","loadingWishlist","commonLoader","requestMessage","RestAPIRequestMessage","messageId","addData","RestAPIResponceEndPointMessage","getAllNotificationsAPIEndPoint","headers","token","localStorage","getItem","RestAPIRequestHeaderMessage","JSON","stringify","RestAPIRequestMethodMessage","apiGetMethod","sendMessage","id","receive","bind","onHandleLogout","getWishList","getOrders","subScribedMessages","CountryCodeMessage","RestAPIResponceMessage","ReciveUserCredentials","userData","email","userName","profileImage","activeTab","orders","wishlist","loadingOrder","RegExp","attachBuildingBlock","send","RequestUserCredentials","from","message","apiRequestCallId","getData","RestAPIResponceDataMessage","responseJSON","RestAPIResponceSuccessMessage","errorMessage","RestAPIResponceErrorMessage","errors","error","value","key","window","notify","type","data","order","isLoadMoreOrders","meta","pagination","totalOrdersCount","total_count","next_page","currentOrdersPageNo","current_page","attributes","wishlist_items","totalNotifications","msg","LoginFaliureMessage","matchTabName","history","push","header","validationApiContentType","pageNo","ID","apiPutMethod","getWishListAPIEndPoint","clear"],"mappings":"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","sourcesContent":["//@ts-nocheck;\nimport { IBlock } from '../../../framework/src/IBlock';\nimport { Message } from \"../../../framework/src/Message\";\nimport { BlockComponent } from \"../../../framework/src/BlockComponent\";\nimport MessageEnum, { getName } from \"../../../framework/src/Messages/MessageEnum\";\nimport { runEngine } from \"../../../framework/src/RunEngine\";\n// @ts-ignore\nimport map from \"lodash/map\";\n\n// Customizable Area Start\n// import { imgPasswordInVisible, imgPasswordVisible } from \"../assets\";\n// Customizable Area End\n\nexport const configJSON = require(\"./config.js\");\n\nexport interface Props {\n  navigation: any;\n  id: string;\n  order: any;\n  history: any;\n  location: any;\n  // Customizable Area Start\n  // Customizable Area End\n}\n\ninterface S {\n  // Customizable Area Start\n  userData: any;\n  email: string;\n  userName: string;\n  profileImage: any;\n  activeTab: any;\n  orders: any;\n  openLogoutModal?: boolean;\n  data?: any;\n  wishlist: any;\n  loadingOrder: boolean;\n  loadingWishlist: boolean;\n  totalNotifications?: number;\n  commonLoader?: boolean;\n  totalOrdersCount?: number;\n  isLoadMoreOrders?: boolean;\n  currentOrdersPageNo?: number;\n  // Customizable Area End\n}\n\ninterface SS {\n  // Customizable Area Start\n  id: any;\n  // Customizable Area End\n}\n\nexport default class ProfileWebController extends BlockComponent<\n  Props,\n  S,\n  SS\n> {\n\n  // Customizable Area Start\n  apiEmailLoginCallId: string = \"\";\n  validationApiCallId: string = \"\";\n  getOrdersCallID: string = \"\";\n  cancelOrderCallID: string = \"\";\n  getWishListCallID: string = \"\";\n  emailReg: RegExp;\n  labelTitle: string = \"\";\n  //logout handler\n  openLogout?: boolean;\n  getAllNotificationsAPICallId: string;\n  // Customizable Area End\n\n  constructor(props: Props) {\n\n    super(props);\n    this.receive = this.receive.bind(this);\n    this.onHandleLogout = this.onHandleLogout.bind(this);\n    this.getWishList = this.getWishList.bind(this);\n    this.getOrders = this.getOrders.bind(this);\n\n    // Customizable Area Start\n    this.subScribedMessages = [\n      getName(MessageEnum.CountryCodeMessage),\n      getName(MessageEnum.RestAPIResponceMessage),\n      getName(MessageEnum.ReciveUserCredentials)\n    ]\n    this.state = {\n      userData: [],\n      email: \"xyz@gmail.com\",\n      userName: \"Hello WOrld\",\n      profileImage: localStorage.getItem('profileImage') || require('./images/user.png'),\n      activeTab: \"1\",\n      orders: [],\n      wishlist: [],\n      loadingOrder: false,\n      loadingWishlist: false\n    };\n\n    this.emailReg = new RegExp(\"\");\n    this.labelTitle = configJSON.labelTitle;\n    // Customizable Area End\n\n    runEngine.attachBuildingBlock(this as IBlock, this.subScribedMessages);\n\n  }\n\n  async componentDidMount() {\n    // this.callGetValidationApi();\n    this.send(new Message(getName(MessageEnum.RequestUserCredentials)));\n    // Customizable Area Start\n    // Customizable Area End\n  }\n\n  // Customizable Area Start\n\n\n  // Customizable Area End\n\n  async receive(from: string, message: Message) {\n\n    // Customizable Area Start\n    if (message.id === getName(MessageEnum.RestAPIResponceMessage)) {\n      const apiRequestCallId = message.getData(getName(MessageEnum.RestAPIResponceDataMessage));\n      const responseJSON = message.getData(getName(MessageEnum.RestAPIResponceSuccessMessage));\n      const errorMessage = message.getData(getName(MessageEnum.RestAPIResponceErrorMessage));\n\n      if (this.getOrdersCallID === apiRequestCallId) {\n        this.setState({ loadingOrder: false, commonLoader: false });\n        if (responseJSON?.errors) {\n          map(responseJSON.errors, (error: any) => {\n            map(error, (value: any, key: any) => {\n              // @ts-ignore\n              window.notify([{ message: value || \"Something went wrong!!!\", type: \"danger\" }])\n            })\n          })\n        }\n\n        if (responseJSON?.data?.order?.data) {\n          this.setState({\n            orders: this.state.isLoadMoreOrders ? [...this.state.orders, ...responseJSON.data.order.data] : responseJSON.data.order.data\n            // orders: responseJSON.data.order.data\n          });\n        }\n        if (responseJSON?.data?.meta?.pagination) {\n          this.setState(\n            {\n              totalOrdersCount: responseJSON?.data?.meta?.pagination?.total_count,\n              isLoadMoreOrders: responseJSON?.data?.meta?.pagination?.next_page != null ? true : false,\n              currentOrdersPageNo: responseJSON?.data?.meta?.pagination?.current_page\n            });\n        }\n      }\n\n      if (this.cancelOrderCallID === apiRequestCallId) {\n        this.setState({ loadingOrder: false })\n        if (responseJSON?.errors) {\n          map(responseJSON.errors, (error: any) => {\n            map(error, (value: any, key: any) => {\n              // @ts-ignore\n              window.notify([{ message: value || \"Something went wrong!!!\", type: \"danger\" }])\n            })\n          })\n        } else {\n          // @ts-ignore\n          window.notify([{ message: \"Order cancelled successfully!!!\", type: \"success\" }]);\n\n        }\n      }\n\n      // WishList\n      if (this.getWishListCallID === apiRequestCallId) {\n        this.setState({ loadingWishlist: false, commonLoader: false });\n        if (responseJSON && responseJSON.data?.wishlist?.data?.attributes?.wishlist_items) {\n          this.setState({ wishlist: responseJSON.data.wishlist.data.attributes.wishlist_items })\n        } else if (responseJSON?.errors) {\n          map(responseJSON.errors, (error: any) => {\n            map(error, (value: any, key: any) => {\n              // @ts-ignore\n              window.notify([{ message: value || \"Something went wrong!!!\", type: \"danger\" }])\n            })\n          })\n        }\n      }\n      if (this.getAllNotificationsAPICallId === apiRequestCallId) {\n        if (responseJSON) {\n          const { data, meta } = responseJSON;\n          this.setState({\n            totalNotifications: meta?.pagination?.total_count,\n            loadingWishlist: false,\n            commonLoader: false\n          });\n          // if (this.state.totalNotifications !== 0) {\n          //   //@ts-ignore\n          //   localStorage.setItem('notifications_count', this.state.totalNotifications);\n          // }\n        }\n      }\n    }\n    // Customizable Area End\n  }\n\n  sendLoginFailMessage() {\n    const msg: Message = new Message(getName(MessageEnum.LoginFaliureMessage));\n    this.send(msg);\n  }\n\n  routeToProfile(value: string) {\n    let matchTabName = '';\n    switch (value) {\n      case 'profile':\n        matchTabName = '1';\n        break;\n      case 'wishlist':\n        matchTabName = '2';\n        break;\n      case 'myorder':\n        matchTabName = '3';\n        break;\n      case 'saveaddresses':\n        matchTabName = '4';\n        break;\n      case 'connectaccount':\n        matchTabName = '5';\n        break;\n      case 'helpCenter':\n        // matchTabName = '6';\n        this.props.history.push(\"/help-center\");\n        break;\n      case 'notifications':\n        matchTabName = '7';\n        break;\n      case 'logout':\n        matchTabName = '8';\n        break;\n      default:\n        matchTabName = '1';\n        break;\n    }\n\n    this.setState({\n      activeTab: matchTabName\n    })\n  }\n\n  routeToHelpCenter() {\n    // this.props.history.push(\"/help-center\");\n  }\n\n  openLogoutModal() {\n    this.setState({\n      ...this.state,\n      openLogoutModal: true\n    })\n  }\n\n  deleteLogout = () => {\n    this.setState({\n      ...this.state,\n      openLogoutModal: false\n\n    })\n  }\n\n  getOrders() {\n    this.setState({ loadingOrder: true, commonLoader: true });\n    const token = localStorage.getItem(\"token\");\n    const header = {\n      token,\n      \"Content-Type\": configJSON.validationApiContentType\n    };\n    let pageNo: number = 1;\n\n    const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n    this.getOrdersCallID = requestMessage.messageId;\n    if (this.state.isLoadMoreOrders) {\n      //@ts-ignore\n      pageNo = this.state.currentOrdersPageNo + 1;\n      // Set EndPoints\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), `${configJSON.getOrders}?page=${pageNo}`)\n    } else {\n      // Set EndPoints\n      requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.getOrders);\n    }\n\n    // Set Method Type\n    requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiGetMethod)\n\n    // set Headers \n    requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), header);\n    // set Body\n    // requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(body));\n    // requestMessage.addData(getName(MessageEnum.RestAPIRequestBodyMessage), JSON.stringify(requestBody));\n\n    runEngine.sendMessage(requestMessage.id, requestMessage);\n  }\n\n  cancelOrder(ID: string) {\n    this.setState({ loadingOrder: true, commonLoader: true });\n\n    const token = localStorage.getItem(\"token\");\n\n    const header = {\n      token,\n      \"Content-Type\": configJSON.validationApiContentType\n    }\n\n    const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n    this.cancelOrderCallID = requestMessage.messageId;\n    // Set Method Type\n    requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiPutMethod)\n    // Set EndPoints\n    requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), `/orders/${ID}/cancel_order`);\n    // set Headers \n    requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), header);\n\n    runEngine.sendMessage(requestMessage.id, requestMessage);\n\n    // axios.put(`https://ecommerceapp-39394-ruby.39394.dev.ap-southeast-1.aws.svc.builder.ai/bx_block_order_management/orders/${ID}/cancel_order`, header)\n    //   .then(res => {\n\n    //     // if (res?.data?.data?.order) {\n    //     //   this.setState({ orders: res?.data?.data?.order.data});\n    //     // }\n    //   })\n    //   .catch(error => {\n    //     console.error(error);\n    //     if (error?.request?.response && error?.request?.status !== 0) {\n    //       let response = JSON.parse(error.request.response);\n    //       map(response?.errors, (errorMesage: any) => {\n    //         map(errorMesage, (val: any, key: any) => {\n    //           console.log(key)\n    //           // @ts-ignore\n    //           window.notify([{ message: val || \"Something went wrong!!!\", type: \"danger\" }]);\n    //         })\n    //       })\n    //     }\n    //   })\n  }\n\n  getWishList() {\n    this.setState({ loadingWishlist: true, commonLoader: true });\n    const token = localStorage.getItem(\"token\");\n    const headers = {\n      token,\n      \"Content-Type\": configJSON.validationApiContentType\n    }\n\n\n    const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n    this.getWishListCallID = requestMessage.messageId;\n    // Set Method Type\n    requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiGetMethod)\n    // Set EndPoints\n    requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.getWishListAPIEndPoint);\n    // set Headers \n    requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), headers);\n\n    runEngine.sendMessage(requestMessage.id, requestMessage);\n\n    // axios(`https://ecommerceapp-39394-ruby.39394.dev.ap-southeast-1.aws.svc.builder.ai/bx_block_wishlist/wishlists`, headers)\n    //   .then(res => {\n    //     if (res.data?.data?.wishlist?.data?.attributes?.wishlist_items) {\n    //       this.setState({ wishlist: res.data?.data?.wishlist?.data?.attributes?.wishlist_items })\n    //     }\n    //   })\n    //   .catch(error => {\n    //     console.error(error);\n    //     // @ts-ignore\n    //     if (error?.request?.response && error?.request?.status !== 0) {\n    //       let response = JSON.parse(error.request.response);\n    //       map(response?.errors, (errorMesage: any) => {\n    //         map(errorMesage, (val: any, key: any) => {\n    //           console.log(key)\n    //           // @ts-ignore\n    //           window.notify([{ message: val || \"Something went wrong!!!\", type: \"danger\" }]);\n    //         })\n    //       })\n    //     }\n    //   })\n  }\n\n  onHandleLogout() {\n    localStorage.clear();\n    this.props.history.push(\"/\");\n  }\n  //Get All Notifications API\n  getAllNotificationsList = () => {\n    this.setState({ loadingWishlist: true, commonLoader: true });\n    const requestMessage = new Message(getName(MessageEnum.RestAPIRequestMessage));\n    this.getAllNotificationsAPICallId = requestMessage.messageId;\n\n    requestMessage.addData(getName(MessageEnum.RestAPIResponceEndPointMessage), configJSON.getAllNotificationsAPIEndPoint);\n    const headers = {\n      'Content-Type': 'application/json',\n      token: localStorage.getItem('token'),\n    };\n\n    requestMessage.addData(getName(MessageEnum.RestAPIRequestHeaderMessage), JSON.stringify(headers));\n    requestMessage.addData(getName(MessageEnum.RestAPIRequestMethodMessage), configJSON.apiGetMethod);\n\n    runEngine.sendMessage(requestMessage.id, requestMessage);\n  };\n\n}\n"]},"metadata":{},"sourceType":"module"}